<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="mybatis.partnerReservation">



	<select id="ReCommentList" parameterType="java.util.Map" resultType="java.util.Map">
	
		SELECT O.* FROM PREPLYQNA R JOIN PARTNERS P
		ON R.id = P.id WHERE O.no =#{no} ORDER BY rno DESC
		
		<!-- 
		
		 SELECT * FROM(SELECT * FROM PQNA Q JOIN PARTNERS P ON Q.PID = P.PID WHERE Q.PID ='운영자')
		 T JOIN PREPLYQNA R ON T.NO=R.NO ORDER BY r.rno DESC;		
				
		 -->

	</select>
	
	
   	<insert id="ReCommentInsert" parameterType="java.util.Map">
   	
	 INSERT INTO PREPLYQNA VALUES(SEQ_PREPLYQNA.NEXTVAL,#{no},#{rcontents},SYSDATE)
	 
	</insert>


	
	<update id="ReCommentUpdate" parameterType="java.util.Map">
		UPDATE ONEMEMOCOMMENT SET ONELINECOMMENT =#{onelinecomment} WHERE cno=#{cno}
	</update>
	
	
	
	<delete id="ReCommentDelete" parameterType="java.util.Map">
		DELETE ONEMEMOCOMMENT WHERE cno=#{cno}
	</delete>
	
	
	
	<delete id="ReCommentDeleteByNo" parameterType="java.util.Map">
		DELETE ONEMEMOCOMMENT WHERE no=#{no}
	</delete>
    
  






	
	
</mapper>